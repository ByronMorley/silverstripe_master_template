function get_menu_height(){var a=$(".condensed-menu");a.css("height","auto");var b=a.height();return a.css("height","0"),b}var animationInactive=!0,menuOpen=!1;$(document).ready(function(){$("#hamburger-menu").on("click",function(){a($(this))});var a=function(a){var b=$(".condensed-menu");if(menuOpen)a.removeClass("active"),animationInactive=!1,b.animate({height:"0"},500,function(){animationInactive=!0,menuOpen=!1});else{var c=get_menu_height();a.addClass("active"),animationInactive=!1,b.animate({height:c+"px"},500,function(){animationInactive=!0,menuOpen=!0})}}});var exercise_init=function(){bind_exercise_events()},bind_exercise_events=function(){$(".tick-box").on("click",function(){click_choice($(this))}),$("#submit-evaluation").on("click",function(a){evaluation_submission(),submit_eval_form(),a.preventDefault(),window.location.href=$(this).attr("href")})},evaluation_submission=function(){console.log("setup submission"),$(".eval-choice").each(function(){var a=$(this),b="form-"+a.attr("id")+"-choice";if(has_extended_textarea(a)){var c="form-"+a.attr("id")+"-text";$("#"+c).val(a.find("textarea").val()),$("#"+b).val(1)}else a.find(".tick-box").hasClass("checked")&&$("#"+b).val(1)})},submit_eval_form=function(){var a=$("#Form_evaluationForm"),b=a.attr("action");$.ajax({type:"POST",url:b,data:a.serialize(),success:function(a){console.log("updated table")}})},is_choice_checked=function(a){return a.find(".tick-box").hasClass("checked")},click_choice=function(a){var b=get_question(a),c=a.parent();a.hasClass("checked")?(a.removeClass("checked"),fold_text_area(b.find(".unfold"))):perform_click_function(b,a,c)},perform_click_function=function(a,b,c){if(a.find(".unfold").length>0&&fold_text_area(a.find(".unfold")),multiple_clicks_enabled(a)?b.addClass("checked"):(a.find(".eval-choice").each(function(){$(this).find(".tick-box").removeClass("checked")}),b.addClass("checked")),has_extended_textarea(c)){var d=c.find("textarea");d.hasClass("fold")&&unfold_text_area(d)}},unfold_text_area=function(a){a.css("display","block"),a.animate({height:"100px"},500,function(){a.attr("class","unfold")})},fold_text_area=function(a){a.animate({height:"0px"},500,function(){a.attr("class","fold"),a.css("display","none")})},has_extended_textarea_by_question=function(a){var b=a.find(".eval-choice"),c=null;return b.each(function(){has_extended_textarea($(this))&&(c=$(this))}),c},get_textarea=function(a){return a.find("textarea")},has_extended_textarea=function(a){return 1==parseInt(a.attr("type"))},multiple_clicks_enabled=function(a){return 1==parseInt(a.attr("type"))},get_question=function(a){var b=a.parent().attr("id"),c=null;return $(".eval-question").each(function(){$(this).find("#"+b).length>0&&(c=$(this))}),c},max_image_event=function(){$(".overlay").on("click",function(){var a=$(this).parent(),b=a.find(".cover-image");$("#imagepreview").attr("src",b.attr("src")),$("#myModalLabel").text(a.find(".menu-title").text()),$("#imagemodal").modal("show")})},video_init=function(){$(".anim-enter").find("video").attr("id");var a=$("video").attr("id");videojs.getPlayers()[a]&&delete videojs.getPlayers()[a],videojs(a,{aspectRatio:"16:9",playbackRates:[1,1.5,2]},function(){console.log("video player initialised")})};!function(a,b,c){"use strict";function d(b,c){console.log("Hades Drag and Drop Activated"),this.$el=a(b),this.$el.data(n,this),this.defaults={dnd_tag_type:"li",area_class_name:"area",highlight_class_name:"highlight",click_and_drop_active:!0,drag_and_drop_active:!0};var d=this.$el.data(n+"-opts");this.opts=a.extend(this.defaults,c,d),this.init()}function e(a){var b={};if(a.origin_element){var c=a.origin_element.parent();b.origin_element=a.origin_element,b.origin_element_id=a.origin_element.attr("id"),b.origin_element_inner_html=a.origin_element.html(),b.origin_area=c,b.origin_area_id=c.attr("id"),b.origin_index=a.origin_element.index()}return a.destination_area&&(b.destination_area=a.destination_area,b.destination_area_id=a.destination_area.attr("id")),a.destination_element&&(b.destination_element=a.destination_element,b.destination_element_id=a.destination_element.attr("id"),b.destination_index=a.destination_element.index(),b.destination_area=a.destination_element.parent(),b.destination_area_id=a.destination_element.parent().attr("id")),b}function f(){var a=j.find("."+k.area_class_name),b=a.find(k.dnd_tag_type);k.click_and_drop_active&&b.add_click_to_drop_function(),k.drag_and_drop_active&&(b.add_drag_function_to_element().add_drop_function_to_element(),a.add_drop_function_to_area()),g()}function g(){a("body").on("click",function(){q&&(s||(r.removeClass("selected"),r=null,q=!1))})}function h(a,b){a.origin_area.find(b).eq(a.origin_index).before(a.destination_element),a.destination_index<a.origin_index?a.destination_area.find(b).eq(a.destination_index).before(a.origin_element):a.destination_area.find(b).eq(a.destination_index).after(a.origin_element)}var i,j,k,l,m,n="hades_dnd",o=!1,p=!0,q=!1,r=null,s=!1;d.prototype.init=function(){i=this,j=i.$el,k=i.defaults,f()},a.fn.add_click_to_drop_function=function(){return this.each(function(){a(this).on("click",function(){if(console.log("click"),q){console.log("swap items");var b=k.dnd_tag_type,c=e({origin_element:r,destination_element:a(this)});h(c,b),r.removeClass("selected"),r=null,q=!1}else console.log("item selected"),r=a(this),q=!0,r.addClass("selected")}),a(this).on("mouseover",function(){s=!0}),a(this).on("mouseleave",function(){s=!1})})},a.fn.add_drag_function_to_element=function(){return this.each(function(){a(this).draggable({helper:"clone",start:function(b,c){null!=r&&(r.removeClass("selected"),r=null,q=!1),p=!0,m=a(this),console.log("Started dragging "+a(this).attr("id")),a(this).css("visibility","hidden")},stop:function(b,c){p=!1,console.log("Stopped dragging "+a(this).attr("id")),a(this).css("visibility","visible")}})})},a.fn.add_drop_function_to_element=function(){return this.each(function(){a(this).droppable({over:function(b,c){o=!0,l=a(this),l.addClass(k.highlight_class_name)},out:function(b,c){o=!1,l=a(this),l.removeClass(k.highlight_class_name)},deactivate:function(a,b){}})})},a.fn.add_drop_function_to_area=function(){return this.each(function(){a(this).droppable({drop:function(b,c){var d=e({origin_element:a(c.draggable),destination_area:a(this)}),f=k.dnd_tag_type,g="<"+f+' id="'+d.origin_element_id+'" answer-id="'+d.origin_element.attr("answer-id")+'">'+d.origin_element_inner_html+"</>";if(d.origin_element.remove(),o){l.removeClass(k.highlight_class_name);var h=l.index();a(this).find(f).eq(h).before(g),a("#"+d.origin_area_id+" "+f).eq(d.origin_index).before(l)}else a("#"+d.destination_area_id).append(g);a("#"+d.origin_element_id).add_drag_function_to_element().add_drop_function_to_element().add_click_to_drop_function()}})})},a.fn.hades_dnd=function(a){return this.each(function(){new d(this,a)})}}(jQuery,document,window),function(a,b,c){"use strict";var d="ajax_plugin";a.ajax_plugin=function(b,c){var e,f,g,h,i={ajax_link_class:"ajax-link",ajax_container:"ajax-container",animation_layer:"animation-layer",source_id:"ajax-source",animation_enter:"anim-enter",animation_leave:"anim-leave",initialise_javascript_dependencies:null,load_page_callback:null,page_loaded_callback:null,start_animation_callback:null,end_animation_callback:null,child_list:null,nav_next_frame:null,nav_prev_frame:null,url:null,abs_link:null,freezable_content:[]},j=this,k=!1,l=0;j.settings={};var m=a(b),b=b,n=m.data(d+"-opts");j.init=function(){j.settings=a.extend({},i,c,n),console.log("initialised plugin "+d),m.css("position","relative"),G(),j.settings.child_list?(q(),v(),j.settings.url?o(j.settings.abs_link,!1):r(l+1)):console.log("no child list found, failed to initialise ajax plugin")},j.get_current_index=function(){return l};var o=function(b,c){console.log("url "+b),B(),F(j.settings.load_page_callback);var d=a("."+j.settings.animation_layer),e=a("."+j.settings.ajax_container);d.removeClass("style"),a.ajax(b).done(function(a){F(j.settings.page_loaded_callback),C(e,d,a,c,b)}).fail(function(a){alert("Error: "+a.responseText)})},p=function(b,c){F(j.settings.start_animation_callback),A();var d=a("."+j.settings.animation_leave),e=a("."+j.settings.animation_enter),f=a("."+j.settings.animation_layer);if(f.addClass("running"),c){var g=parseInt(b.attr("sort")),h=parseInt(e.attr("sort")),i=a("#trans-page-info").attr("inc"),k=a("#trans-page-info").attr("dec"),l=g<h?i:k;f.addClass(l)}else f.addClass("no-animation");d.attr("style",b.attr("style")),e.attr("style",b.attr("style")),d.html(b.html()),d.css_animation_event_listener(f)},q=function(){e=j.settings.child_list.find("li"),f=e.length},r=function(a){var b=e.eq(a-1);o(b.attr("link"),!1)},s=function(){setTimeout(function(){a("."+j.settings.ajax_container);a(".animation-layer").css({width:"100%",height:"auto",top:0,left:0})},100)},t=function(a){var b=l;g=a.find("."+j.settings.nav_next_frame),h=a.find("."+j.settings.nav_prev_frame),g.add_click_navigation(),h.add_click_navigation(),u(),0==b&&h.css("display","none"),b==f-1&&g.css("display","none"),h.attr("href",e.eq(b-1).attr("link")),g.attr("href",e.eq(b+1).attr("link"))},u=function(){h.css("display","block"),g.css("display","block")},v=function(){var a=window.location.href;if(j.settings.abs_link=a.replace("#","/"),a.indexOf("#")!=-1){var b=a.substr(a.indexOf("#")+1);j.settings.url=b,w(b)}},w=function(b){e.each(function(){b==x(a(this).attr("link"))&&(l=a(this).index())})},x=function(a){return"/"==a.substr(-1)&&(a=a.substr(0,a.length-1)),a.substr(a.lastIndexOf("/")+1)},y=function(a){return"/"==a.substr(-1)&&(a=a.substr(0,a.length-1)),a.replaceAt(a.lastIndexOf("/"),"#")},z=function(){console.log(d+" - animation finished"),s(),E()},A=function(){console.log(d+" - start animation"),D()},B=function(){console.log(d+" - loading page"),k=!0},C=function(a,b,c,e,f){console.log(d+" - page loaded"),a.html(c),t(a),F(j.settings.initialise_javascript_dependencies),p(b,e),window.history.pushState("string","Title",y(f)),k=!1},D=function(){var b=j.settings.freezable_content;a(b).each(function(){var b=a(this),c=b[0].getBoundingClientRect().top+a(window).scrollTop();b.css({top:c,position:"absolute"})})},E=function(){},F=function(a){a&&a()},G=function(){a("a").each(function(){a(this).hasClass("ajax-link")&&a(this).add_click_function()})},H=function(a){"back"==a&&0!=l&&l--,"next"==a&&l<f&&l++};a.fn.add_click_function=function(b){return this.each(function(){a(this).on("click",function(b){b.preventDefault();var c=a(this).attr("href");o(c,!0)})})},a.fn.add_click_navigation=function(b){return this.each(function(){a(this).on("click",function(b){b.preventDefault(),H(a(this).attr("direction"));var c=a(this).attr("href");o(c,!0)})})},a.fn.css_animation_event_listener=function(b){return this.each(function(){a(this).bind("oanimationend animationend webkitAnimationEnd",function(){b.removeClass("running"),a(this).remove(),F(j.settings.end_animation_callback),z()})})},j.init()},String.prototype.replaceAt=function(a,b){return this.substr(0,a)+b+this.substr(a+b.length)},a.fn.ajax_plugin=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.ajax_plugin(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="app_name",e=678401;a.app_name=function(b,c){var f={required:!0},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts");g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h)},g.foo_public_method=function(){};a.fn.bind_event=function(a){},g.init()},a.fn.app_name=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.app_name(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";function d(b,c){console.log(h+" activated"),this.$el=a(b),this.$el.data(h,this),this.defaults={required:!0};var d=this.$el.data(h+"-opts");this.opts=a.extend(this.defaults,c,d),this.init()}var e,f,g,h="plugin name";d.prototype.init=function(){e=this,f=e.$el,g=e.defaults},a.fn.plugin_name=function(a){return this.each(function(){new d(this,a)})}}(jQuery,document,window);var order_exercise_init=function(){bind_order_events()},bind_order_events=function(){$(".submit-answers").on("click",function(a){update_order_input_form(),submit_order_form(),a.preventDefault()})},update_order_input_form=function(){$("#selection-area>li").each(function(){var a="form-"+$(this).attr("id");$("#"+a).attr("value",$(this).index()+1)})},submit_order_form=function(){var a=$("#Form_orderForm"),b=a.attr("action");$.ajax({type:"POST",url:b,data:a.serialize(),success:function(a){console.log("updated table")}})},question_exercise_init=function(){add_selected_answers(),bind_events()},add_selected_answers=function(){$("#answers-given").find("li").each(function(){var a=$(this).attr("questionid"),b=parseInt($(this).text()),c=$("#question-"+a).find(".answers li").eq(b-1);select_answer(c)})},select_answer=function(a){var b=a.parent();b.find("li").removeClass("selected"),a.addClass("selected");var c=b.parent();c.attr("answer",a.index()+1),update_input_form()},update_input_form=function(){$(".questions>li").each(function(){var a="form-"+$(this).attr("id");$("#"+a).attr("value",$(this).attr("answer"))})},bind_events=function(){$(".answers li").on("click",function(){select_answer($(this))}),$(".submit-answers").on("click",function(a){submit_form(),a.preventDefault()})},submit_form=function(){var a=$("#Form_questionForm"),b=a.attr("action");$.ajax({type:"POST",url:b,data:a.serialize(),success:function(a){console.log("updated table")}})},scenario_exercise_init=function(){bind_scenario_events()},bind_scenario_events=function(){$(".submit-answers").on("click",function(a){submit_scenario_form($(this).attr("id")),a.preventDefault()})},submit_scenario_form=function(a){var b=$("#Form_scenarioForm");b.find("#Form_scenarioForm_answer_given").attr("value",a);var c=b.attr("action");$.ajax({type:"POST",url:c,data:b.serialize(),success:function(a){console.log("updated table")}})};$(document).ready(function(){});